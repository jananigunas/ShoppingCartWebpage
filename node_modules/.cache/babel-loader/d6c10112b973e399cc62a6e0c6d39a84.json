{"ast":null,"code":"import { ACTIONS } from '../Actions/cartActions';\nconst initState = {\n  items: [],\n  itemsInCart: [],\n  cartValue: 0,\n  cartQuantity: 0,\n  isLoading: true,\n  error: null\n};\n\nconst cartReducer = (state = initState, action) => {\n  switch (action.type) {\n    case ACTIONS.RESPONSE_FROM_API:\n      return { ...state,\n        items: action.data,\n        isLoading: false\n      };\n\n    case ACTIONS.FAILED_TO_FETCH_API_RESPONSE:\n      return { ...state,\n        isLoading: false,\n        error: action.error\n      };\n\n    case ACTIONS.ADD_PRODUCT_TO_CART:\n      {\n        const itemExistsInCart = state.itemsInCart.find(item => item.partId === action.id);\n\n        if (itemExistsInCart) {\n          itemExistsInCart.quantity += 1;\n          const itemPrice = Number(itemExistsInCart.priceValue.replace(/,/g, \"\"));\n          return { ...state,\n            cartValue: state.cartValue + itemPrice,\n            cartQuantity: state.cartQuantity + 1\n          };\n        } else {\n          const itemAdded = state.items.find(item => item.partId === action.id);\n          itemAdded.quantity = 1;\n          const itemPrice = Number(itemAdded.priceValue.replace(/,/g, \"\"));\n          return { ...state,\n            itemsInCart: [...state.itemsInCart, itemAdded],\n            cartValue: state.cartValue + itemPrice,\n            cartQuantity: state.cartQuantity + 1\n          };\n        }\n      }\n\n    case ACTIONS.INCREASE_ITEM_QUNATITY:\n      {\n        const itemAdded = state.itemsInCart.find(item => item.partId === action.id);\n        itemAdded.quantity += 1;\n        const itemPrice = Number(itemAdded.priceValue.replace(/,/g, \"\"));\n        return { ...state,\n          cartValue: state.cartValue + itemPrice,\n          cartQuantity: state.cartQuantity + 1\n        };\n      }\n\n    case ACTIONS.DECREASE_ITEM_QUNATITY:\n      {\n        const itemAdded = state.itemsInCart.find(item => item.partId === action.id);\n\n        if (itemAdded.quantity === 1) {\n          const updatedCartItems = state.itemsInCart.filter(item => item.partId !== action.id);\n          const itemPrice = Number(itemAdded.priceValue.replace(/,/g, \"\"));\n          return { ...state,\n            itemsInCart: updatedCartItems,\n            cartValue: state.cartValue - itemPrice,\n            cartQuantity: state.cartQuantity - 1\n          };\n        } else {\n          itemAdded.quantity -= 1;\n          const itemPrice = Number(itemAdded.priceValue.replace(/,/g, \"\"));\n          return { ...state,\n            cartValue: state.cartValue - itemPrice,\n            cartQuantity: state.cartQuantity - 1\n          };\n        }\n      }\n\n    case ACTIONS.REMOVE_ITEM_FROM_CART:\n      {\n        const removedItem = state.itemsInCart.find(item => item.partId === action.id);\n        const updatedCartItems = state.itemsInCart.filter(item => item.partId !== action.id);\n        const itemPrice = Number(removedItem.priceValue.replace(/,/g, \"\"));\n        const newCartValue = state.cartValue - itemPrice * removedItem.quantity;\n        return { ...state,\n          itemsInCart: updatedCartItems,\n          cartValue: newCartValue,\n          cartQuantity: state.cartQuantity - removedItem.quantity\n        };\n      }\n\n    case ACTIONS.ADD_SHIPPING_CHARGES:\n      {\n        return { ...state,\n          cartValue: state.cartValue + 6\n        };\n      }\n\n    case ACTIONS.REMOVE_SHIPPING_CHARGES:\n      {\n        return { ...state,\n          cartValue: state.cartValue - 6\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/jg066499/Documents/Project/Shopping-Cart/src/Reducers/cartReducer.js"],"names":["ACTIONS","initState","items","itemsInCart","cartValue","cartQuantity","isLoading","error","cartReducer","state","action","type","RESPONSE_FROM_API","data","FAILED_TO_FETCH_API_RESPONSE","ADD_PRODUCT_TO_CART","itemExistsInCart","find","item","partId","id","quantity","itemPrice","Number","priceValue","replace","itemAdded","INCREASE_ITEM_QUNATITY","DECREASE_ITEM_QUNATITY","updatedCartItems","filter","REMOVE_ITEM_FROM_CART","removedItem","newCartValue","ADD_SHIPPING_CHARGES","REMOVE_SHIPPING_CHARGES"],"mappings":"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","sourcesContent":["import { ACTIONS } from '../Actions/cartActions';\n\nconst initState = {\n    items: [],\n    itemsInCart:[],\n    cartValue: 0,\n    cartQuantity: 0,\n    isLoading: true,\n    error: null,\n}\nconst cartReducer= (state = initState, action)=>{\n    switch(action.type){\n        case ACTIONS.RESPONSE_FROM_API:\n            return {\n                ...state,\n                items: action.data,\n                isLoading: false\n            };\n        case ACTIONS.FAILED_TO_FETCH_API_RESPONSE:\n            return {\n                ...state,\n                isLoading: false,\n                error: action.error\n            };\n        case ACTIONS.ADD_PRODUCT_TO_CART: {\n            const itemExistsInCart = state.itemsInCart.find(item => item.partId === action.id);\n            if(itemExistsInCart){\n                itemExistsInCart.quantity += 1;\n                const itemPrice = Number((itemExistsInCart.priceValue).replace(/,/g , \"\"));\n                return {\n                    ...state,\n                    cartValue: state.cartValue + itemPrice,\n                    cartQuantity: state.cartQuantity + 1\n                }\n            }\n            else{\n                const itemAdded = state.items.find(item => item.partId === action.id);\n                itemAdded.quantity = 1;\n                const itemPrice = Number((itemAdded.priceValue).replace(/,/g , \"\"));\n                return {\n                    ...state,\n                    itemsInCart: [...state.itemsInCart, itemAdded],\n                    cartValue: state.cartValue + itemPrice,\n                    cartQuantity: state.cartQuantity + 1\n                }\n            }\n        }\n        case ACTIONS.INCREASE_ITEM_QUNATITY: {\n            const itemAdded = state.itemsInCart.find(item => item.partId === action.id);\n            itemAdded.quantity += 1;\n            const itemPrice = Number((itemAdded.priceValue).replace(/,/g , \"\"));\n            return {\n                ...state,\n                cartValue: state.cartValue + itemPrice,\n                cartQuantity: state.cartQuantity + 1\n            }\n        }\n        case ACTIONS.DECREASE_ITEM_QUNATITY: {\n            const itemAdded = state.itemsInCart.find(item => item.partId === action.id);\n            if(itemAdded.quantity === 1) {\n                const updatedCartItems = state.itemsInCart.filter(item => item.partId !== action.id);\n                const itemPrice = Number((itemAdded.priceValue).replace(/,/g , \"\"));\n                return {\n                    ...state,\n                    itemsInCart: updatedCartItems,\n                    cartValue: state.cartValue - itemPrice,\n                    cartQuantity: state.cartQuantity - 1\n                }\n            }\n            else {\n                itemAdded.quantity -= 1;\n                const itemPrice = Number((itemAdded.priceValue).replace(/,/g , \"\"));\n                return {\n                    ...state,\n                    cartValue: state.cartValue - itemPrice,\n                    cartQuantity: state.cartQuantity - 1\n                }\n            }\n        }\n        case ACTIONS.REMOVE_ITEM_FROM_CART: {\n            const removedItem = state.itemsInCart.find(item => item.partId === action.id);\n            const updatedCartItems = state.itemsInCart.filter(item => item.partId !== action.id);\n            const itemPrice = Number((removedItem.priceValue).replace(/,/g , \"\"));\n            const newCartValue = state.cartValue - (itemPrice * removedItem.quantity); \n            return {\n                ...state,\n                itemsInCart: updatedCartItems,\n                cartValue: newCartValue,\n                cartQuantity: state.cartQuantity - removedItem.quantity\n            }\n        }\n        case ACTIONS.ADD_SHIPPING_CHARGES: {\n            return {\n                ...state,\n                cartValue: state.cartValue + 6\n            }\n        }\n        case ACTIONS.REMOVE_SHIPPING_CHARGES: {\n            return {\n                ...state,\n                cartValue: state.cartValue - 6\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}